<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <title>JS5-1. 함수(function)</title>
      <style>
         body {
            margin: 0;
            min-height: 100vh;
            /* 최소 높이로 보이는 화면크기만큼 지정하면
                기본적으로 body가 보이는 화면을 유지하다가
                컨텐츠가 많아져서 스크롤 생성시 body도 늘어남! */

            /* background: url(https://images.adsttc.com/media/images/5f73/76e0/63c0/17bc/c900/04e8/large_jpg/HK_1_N3.jpg?1601402564)
               no-repeat fixed center/cover; */
         }
         /* 배경박스 */
         .bgbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            /* body가 투명하므로 아래쪽에 내려가 있어도
                배경은 보인다! -> 배경처리시 이렇게 하면됨! */
         }
         .bgbox ul {
            margin: 0;
            padding: 0;
            list-style: none;
            width: 100%;
            height: 100%;
         }
         .bgbox li {
            position: absolute;
            /* 서로겹쳐짐 */
            width: 100%;
            height: 100%;
            /* 투명하게 */
            opacity: 0;
            /* 트랜지션 */
            transition: 0.5s ease-in-out;
         }
         .bgbox li.on {
            /* 보이게함 */
            opacity: 1;
            /* 맨위로 오게함 */
            z-index: 1;
         }

         h2 {
            font-size: 5vh;
            color: #fff;
            text-shadow: 0 0 5px #000;
            text-align: center;
         }

         button {
            font-size: 40px;
         }

         /* 불꽃놀이 박스 */
         .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            background: url(./images/fireworks.gif) center;

         display: block;
         opacity: 0;

            font-size: 6vw;
            font-weight: bold;
            color: aqua;
            white-space: nowrap;
            text-shadow: 0 0 5px #333;
            text-align: center;
            line-height: 100vh;
         }
      </style>
      <script>


   function Korea(txt) {
      alert(txt);
      let c = Ri(txt+'양');
      alert(c);
      return c + '용!';

   } ///// Korea함수 ////////////////


   function Ri(txt) {
      alert(txt);
      let b = Na(txt+'이');
      alert(b);
      return b +'워';

   } ///// Ri함수 ////////////////


   function Na(txt) {
      alert(txt);
      let a = Ra(txt+'는');
      alert(a);
      return a + '여';
   } ///// Na함수 ////////////////


   function Ra(txt) {
      alert(txt);
      return txt +'귀';
   } ///// Ra함수 ////////////////





   // 온라인상 배경이미지 주소를 배열로 셋팅
   const scene = [
      "https://www.thetimes.co.uk/imageserver/image/%2Fmethode%2Fsundaytimes%2Fprod%2Fweb%2Fbin%2F1ee63066-4239-11ec-b414-b1f6389ab345.jpg",
      "https://cdn.britannica.com/57/75757-050-122EC2ED/Changgyong-Palace-background-Seoul.jpg",
      "https://images.adsttc.com/media/images/5f73/76e0/63c0/17bc/c900/04e8/large_jpg/HK_1_N3.jpg",
      "https://www.wallpaperflare.com/static/353/548/867/cityscape-seoul-south-korea-landscape-wallpaper-preview.jpg",
      "https://wallpaperaccess.com/full/11675.jpg",
      "https://wallpaperaccess.com/full/11676.jpg",
      "https://wallpaperaccess.com/full/11678.jpg",
      "https://wallpaperaccess.com/full/5480068.jpg",
      "https://wallpaperaccess.com/full/11682.jpg",
      "https://wallpaperaccess.com/full/5480079.jpg",
   ];

   /***********************************************
    * 함수명: showFireworks
    * 기능:  우리나라대한민국 프로젝트 버튼 
      마지막 확인시 전체화면으로 불꽃놀이 보이기
   ***********************************************/
   function showFireworks(){
      let fireWorks = document.querySelector('.fireworks');
      fireWorks.style.opacity = '1';
      fireWorks.style.zIndex = '100';
      fireWorks.style.transition = '2s';
      
      setTimeout(() => {
         fireWorks.style.opacity = '0';
         
      }, 3000);
   };


   /****************************************
    * 함수명 : loadFn
    * 기능 : 페이지 로딩 후 실행함수
    ****************************************/ 
   window.addEventListener("load", loadFn);
   function loadFn() {
      console.log("로딩완료!");


   // 1) 배경넣기  
   // 변경 대상 : .bgbox
    let bgbox = document.querySelector(".bgbox");
   //넣을요소 : ul>li를 이미지 수 만큼 
    let imgCnt = scene.length;
    console.log(bgbox,imgCnt);
   
    let codeH = `<ul>`;
   for(let i = 0; i < imgCnt; i++){
      codeH += 
      ` <li ${i==0?'class="on"':''} style ='background: url(${scene[i]})no-repeat center/cover'></li> 
      `;
   };
   codeH += `<ul>`;
      // console.log(codeH);
      bgbox.innerHTML += codeH;

   // 2) li요소에 클래스 뺏다 넣으며 배경이미지 3초마다 전환하기
      let i = 0;
      let li = bgbox.querySelectorAll("li");
      console.log(li);
      setInterval(() => {
         li[i].classList.remove('on');
         i++
         //한계값
         if(i ==10) i = 0;
         li[i].classList.add('on');
         
      },3000);
      
      let letters = document.querySelector(".letters");

      letters.style.opacity ='0';
      letters.style.transition ='1s';
      setTimeout(() => {
         song(
            "&lt;애국가&gt;",
            "동해물과 백두산이 마르고 닳도록",
            "하느님이 보우하사 우리나라 만세",
            "무궁화 삼천리 화려 강산",
            "대한 사람 대한으로 길이 보전하세"
      );
         
      }, 2000);

   // 3) .letters에 애국가넣기
   function song(){
   for (let i = 0; i < arguments.length; i++) {
   letters.innerHTML += `<h2>${arguments[i]}</h2>`;
      letters.style.opacity ='1';
     

   } ///for///  
   } //// song 함수///////




   } // load 함수 ///////////////////////////
   
    </script>
   </head>

   <body>
      <!-- 배경박스 -->
      <div class="bgbox"></div>
      <!-- 프로젝트 버튼 -->
      <button
         onclick="alert(Korea('고')); showFireworks(); ">
         함수 연습 시작!
      </button>

      <!-- 애국가 가사 타이틀 넣기 박스 -->
      <div class="letters"></div>

      <!-- 불꽃놀이 박스 -->
      <div class="fireworks">우리나라 대한민국 만세!!!</div>
   </body>
</html>